/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{270:function(e,t,n){"use strict";var r=n(47),o=n.n(r),l="YYYY-MM-DD HH:mm:ss",c=function(){return o()().format(l)};t.a=function(e,t,n){return 1===e&&t?o()().startOf("day").format(l):1===e&&n?c():2===e&&t?o()().add(-1,"day").startOf("day").format(l):2===e&&n?o()().add(-1,"day").endOf("day").format(l):3===e&&t?o()().startOf("week").format(l):3===e&&n?o()().endOf("week").format(l):4===e&&t?o()().subtract(1,"weeks").startOf("week").format(l):4===e&&n?o()().subtract(1,"weeks").endOf("week").format(l):5===e&&t?o()().startOf("month").format(l):5===e&&n?o()().endOf("month").format(l):6===e&&t?o()().subtract(1,"month").startOf("month").format(l):6===e&&n?o()().subtract(1,"month").endOf("month").format(l):7===e&&t?o()().startOf("year").format(l):7===e&&n?c():8===e&&t?o()().subtract(1,"year").startOf("year").format(l):8===e&&n?o()().subtract(1,"year").endOf("year").format(l):void 0}},271:function(e,t,n){"use strict";var r=n(24),o=(n(43),n(10)),l=(n(9),n(78),n(100),{props:{title:{required:!0,type:String},baseList:{required:!0,type:Array},selectedList:{required:!0,type:Array}},data:function(){return{baseValue:"",selectedValue:""}},computed:{baseListLocal:{get:function(){return this.baseList},set:function(e){this.$emit("updateBase",e)}},selectedListLocal:{get:function(){return this.selectedList},set:function(e){this.$emit("updateSelected",e)}},filteredBase:function(){var e=this;return this.baseListLocal.filter(function(t){return t.name.toLowerCase().includes(e.baseValue.toLowerCase())})},filteredSelected:function(){var e=this;return this.selectedListLocal.filter(function(t){return t.name.toLowerCase().includes(e.selectedValue.toLowerCase())})}},methods:{addAll:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[].concat(Object(r.a)(this.selectedListLocal),Object(r.a)(this.filteredBase));case 2:this.selectedListLocal=e.sent,this.baseListLocal=this.baseListLocal.filter(function(e){return!t.filteredBase.includes(e)}),this.baseValue="",console.log(this.baseListLocal);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),transferToRight:function(e){this.baseListLocal=this.baseListLocal.filter(function(t){return t.id!==e.id}),this.selectedListLocal=[].concat(Object(r.a)(this.selectedListLocal),[e])},transferToLeft:function(e){this.selectedListLocal=this.selectedList.filter(function(t){return t.id!==e.id}),this.baseListLocal=[].concat(Object(r.a)(this.baseList),[e])},removeAll:function(){this.baseListLocal=[].concat(Object(r.a)(this.baseListLocal),Object(r.a)(this.selectedListLocal)),this.selectedListLocal=[]}}}),c=n(7),component=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"duallist"},[n("h6",{staticClass:"duallist-title m-0 pb-0 white"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"duallist-box"},[n("div",{staticClass:"duallist-box-border duallist-box-border-first"},[n("div",{staticClass:"duallist-box-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.baseValue,expression:"baseValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.baseValue},on:{input:function(t){t.target.composing||(e.baseValue=t.target.value)}}})]),e._v(" "),e.filteredBase.length?n("transition-group",{staticClass:"list-group",attrs:{tag:"ul",name:"list-item"}},e._l(e.filteredBase,function(b){return n("li",{key:b.id,staticClass:"list-group-item",on:{click:function(t){return e.transferToRight(b)}}},[e._v("\n          "+e._s(b.name)+"\n        ")])}),0):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.filteredBase.length?n("div",{staticClass:"btn-wrapper"},[n("a",{staticClass:"btn-move",on:{click:e.addAll}})]):e._e()])],1),e._v(" "),n("div",{staticClass:"duallist-box"},[n("div",{staticClass:"duallist-box-border duallist-box-border"},[n("div",{staticClass:"duallist-box-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.selectedValue},on:{input:function(t){t.target.composing||(e.selectedValue=t.target.value)}}})]),e._v(" "),e.filteredSelected.length?n("transition-group",{staticClass:"list-group",attrs:{tag:"ul",name:"list-item"}},e._l(e.filteredSelected,function(b){return n("li",{key:b.id,staticClass:"list-group-item selected",on:{click:function(t){return e.transferToLeft(b)}}},[e._v("\n          "+e._s(b.name)+"\n        ")])}),0):e._e()],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.filteredSelected.length?n("div",{staticClass:"btn-wrapper"},[n("a",{staticClass:"btn-empty",on:{click:e.removeAll}})]):e._e()])],1)])},[],!1,null,null,null);t.a=component.exports},272:function(e,t,n){"use strict";n(55),n(155);var r=n(1),o=n(20),l=n(271),c=n(270),d={components:{DuallistBox:l.a},props:{item:{required:!0,type:Object},isVisibleItem:{required:!1,default:function(){return{}},type:Object},showFooter:{required:!0,type:Boolean},isSearchable:{required:!0,type:Boolean},url:{required:!1,default:null,type:String}},data:function(){return{dateRanges:[{id:1,name:"Today"},{id:2,name:"Yesterday"},{id:3,name:"This Week"},{id:4,name:"Last Week"},{id:5,name:"This Month"},{id:6,name:"Last Month"},{id:7,name:"Year To Date"},{id:8,name:"Last Year"}],relativeDate:!0,selectedDate:null}},computed:Object(r.a)({},Object(o.d)("shared",["callTypes","skills","csqs","queues","agents"]),{yearRange:function(){var e=this.$moment().subtract(5,"years"),t=this.$moment.range(e,new Date);return Array.from(t.by("year")).map(function(e){return e.format("YYYY")})},optionsAgents:function(){return{baseList:this.agents,selectedList:[],title:"Agents"}},optionsCallTypes:function(){return{baseList:this.callTypes,selectedList:[],title:"Call Types"}},optionsSkills:function(){return{baseList:this.skills,selectedList:[],title:"Skills"}},optionsQueues:function(){return{baseList:this.queues,selectedList:[],title:"Precision Queue"}}}),watch:{item:function(){this.item.queues&&this.getShared({endpoint:"shared/queues",key:"queues"})}},beforeMount:function(){this.selectedDate=this.dateRanges[0],this.item.agents&&this.getShared({endpoint:"shared/agents",key:"agents"}),this.item.callTypes&&this.getShared({endpoint:"shared/calltypes",key:"callTypes"}),this.item.queues&&this.getShared({endpoint:"shared/queues",key:"queues"}),this.item.skills&&this.getShared({endpoint:"shared/skills",key:"skills"})},created:function(){this.item.queues&&this.getShared({endpoint:"shared/queues",key:"queues"})},methods:Object(r.a)({changeRelative:function(e){this.relativeDate=e},changeDates:function(){this.item.startTime=this.relativeDate?Object(c.a)(this.selectedDate.id,!0,!1):this.$moment(this.selectedStockReport.startTime).format("YYYY-MM-DD HH:mm:ss")||"",this.item.endTime=this.relativeDate?Object(c.a)(this.selectedDate.id,!1,!0):this.$moment(this.selectedStockReport.endTime).format("YYYY-MM-DD HH:mm:ss")},limitText:function(e){return"and ".concat(e,e>1?" other options.":" other option.")}},Object(o.b)({getShared:"shared/getShared"}),{search:function(){var data={url:this.url,key:this.reportName,payload:this.item};this.reportSearch(data)}})},m=n(7),component=Object(m.a)(d,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.item.startTime?n("div",{staticClass:"form-group"},[n("fieldset",{staticClass:"radio"},[n("label",{staticClass:"mr-1"},[n("input",{attrs:{type:"radio",name:"date"},domProps:{checked:!0===e.relativeDate},on:{input:function(t){return e.changeRelative(!0)}}}),e._v("\n        Relative Date Range\n      ")]),e._v(" "),n("label",[n("input",{attrs:{type:"radio",name:"date"},domProps:{checked:!1===e.relativeDate},on:{input:function(t){return e.changeRelative(!1)}}}),e._v("\n        Absolute Date Range\n      ")])])]):e._e(),e._v(" "),e.relativeDate&&e.item.startTime?n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate,expression:"selectedDate"}],staticClass:"form-control col-xl-6 col-lg-3 col-md-6",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedDate=t.target.multiple?n:n[0]},e.changeDates]}},e._l(e.dateRanges,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])}),0)]):e._e(),e._v(" "),e.relativeDate?e._e():n("div",{staticClass:"form-group"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("label",[e._v("Start Date")]),e._v(" "),n("vue-ctk-date-time-picker",{attrs:{"minute-interval":10,"max-date":e.item.endTime,"auto-close":"","no-header":"",format:"YYYY-MM-DD HH:mm:ss",color:"#727cf5","enable-button-validate":""},model:{value:e.item.startTime,callback:function(t){e.$set(e.item,"startTime",t)},expression:"item.startTime"}})],1),e._v(" "),n("div",{staticClass:"col-md-6"},[n("label",[e._v("End Date")]),e._v(" "),n("vue-ctk-date-time-picker",{attrs:{"minute-interval":10,"min-date":e.item.startTime,"auto-close":"","no-header":"",format:"YYYY-MM-DD HH:mm:ss",color:"#727cf5","enable-button-validate":""},model:{value:e.item.endTime,callback:function(t){e.$set(e.item,"endTime",t)},expression:"item.endTime"}})],1)])]),e._v(" "),e.item.startYear?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group"},[n("label",[e._v("Start Date")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.startYear,expression:"item.startYear"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item,"startYear",t.target.multiple?n:n[0])}}},e._l(e.yearRange,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])]),e._v(" "),n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group"},[n("label",[e._v("End Date")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.endYear,expression:"item.endYear"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item,"endYear",t.target.multiple?n:n[0])}}},e._l(e.yearRange,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])])]):e._e(),e._v(" "),e.item.callTypes?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsCallTypes.baseList,"selected-list":e.item.callTypes,title:e.optionsCallTypes.title},on:{updateSelected:function(t){e.item.callTypes=t},updateBase:function(t){e.optionsCallTypes.baseList=t}}}):e._e(),e._v(" "),e.item.skills?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsSkills.baseList,"selected-list":e.item.skills,title:e.optionsSkills.title},on:{updateSelected:function(t){e.item.skills=t},updateBase:function(t){e.optionsSkills.baseList=t}}}):e._e(),e._v(" "),e.item.queues?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsQueues.baseList,"selected-list":e.item.queues,title:e.optionsQueues.title},on:{updateSelected:function(t){e.item.queues=t},updateBase:function(t){e.optionsQueues.baseList=t}}}):e._e(),e._v(" "),e.item.agents?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsAgents.baseList,"selected-list":e.item.agents,title:e.optionsAgents.title},on:{updateSelected:function(t){e.item.agents=t},updateBase:function(t){e.optionsAgents.baseList=t}}}):e._e(),e._v(" "),e.isVisibleItem.counter?n("div",{staticClass:"form-group"},[n("label",[e._v("Counter")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.counter,expression:"item.counter"}],staticClass:"form-control w-50",attrs:{type:"text"},domProps:{value:e.item.counter},on:{input:function(t){t.target.composing||e.$set(e.item,"counter",t.target.value)}}})]):e._e(),e._v(" "),e.isSearchable?n("div",{staticClass:"row modal-footer"},[n("button",{staticClass:"btn btn-primary",on:{click:e.search}},[e._v("Search")])]):e._e(),e._v(" "),e.showFooter?n("div",{staticClass:"row flex"},[n("button",{staticClass:"btn btn-light",on:{click:function(t){return e.$store.commit("shared/setReportFilterModal",!1)}}},[e._v("\n      Cancel\n    ")]),e._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.$store.commit("shared/setReportFilterModal",!1)}}},[e._v("\n      OK\n    ")])]):e._e()],1)},[],!1,null,null,null);t.a=component.exports},273:function(e,t,n){"use strict";var r={props:{title:{required:!0,type:String}}},o=n(7),component=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box"},[n("div",{staticClass:"page-title-right"},[n("ol",{staticClass:"breadcrumb m-0"},[n("li",{staticClass:"breadcrumb-item"},[n("nuxt-link",{attrs:{to:"/"}},[e._v("Home")])],1),e._v(" "),n("li",{staticClass:"breadcrumb-item active"},[n("a",[e._v(e._s(e.title))])])])]),e._v(" "),n("h4",{staticClass:"page-title"},[e._v(e._s(e.title))])])])])},[],!1,null,null,null);t.a=component.exports},286:function(e,t,n){e.exports=function(e){"use strict";var t=(e=e&&e.hasOwnProperty("default")?e.default:e).helpers,n=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),r={toTextLines:function(e){var input,n=[];for(e=[].concat(e);e.length;)"string"==typeof(input=e.pop())?n.unshift.apply(n,input.split("\n")):Array.isArray(input)?e.push.apply(e,input):t.isNullOrUndef(e)||n.unshift(""+input);return n},toFontString:function(e){return!e||t.isNullOrUndef(e.size)||t.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family},textSize:function(e,t,n){var i,r=[].concat(t),o=r.length,l=e.font,c=0;for(e.font=n.string,i=0;i<o;++i)c=Math.max(e.measureText(r[i]).width,c);return e.font=l,{height:o*n.lineHeight,width:c}},parseFont:function(n){var o=e.defaults.global,l=t.valueOrDefault(n.size,o.defaultFontSize),c={family:t.valueOrDefault(n.family,o.defaultFontFamily),lineHeight:t.options.toLineHeight(n.lineHeight,l),size:l,style:t.valueOrDefault(n.style,o.defaultFontStyle),weight:t.valueOrDefault(n.weight,null),string:""};return c.string=r.toFontString(c),c},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var i,n,r,o,l=e.slice(),c=[];for(i=0,r=t.length;i<r;++i)o=t[i],-1===(n=l.indexOf(o))?c.push([o,1]):l.splice(n,1);for(i=0,r=l.length;i<r;++i)c.push([l[i],-1]);return c},rasterize:function(e){return Math.round(e*n)/n}};function o(e,t){var n=t.x,r=t.y;if(null===n)return{x:0,y:-1};if(null===r)return{x:1,y:0};var o=e.x-n,l=e.y-r,c=Math.sqrt(o*o+l*l);return{x:c?o/c:0,y:c?l/c:-1}}var l=0,c=1,d=2,m=4,f=8;function h(e,t,rect){var n=l;return e<rect.left?n|=c:e>rect.right&&(n|=d),t<rect.top?n|=f:t>rect.bottom&&(n|=m),n}function v(e,t){var n,r,o=t.anchor,l=e;return t.clamp&&(l=function(e,area){for(var t,n,r,o=e.x0,l=e.y0,v=e.x1,y=e.y1,x=h(o,l,area),_=h(v,y,area);x|_&&!(x&_);)(t=x||_)&f?(n=o+(v-o)*(area.top-l)/(y-l),r=area.top):t&m?(n=o+(v-o)*(area.bottom-l)/(y-l),r=area.bottom):t&d?(r=l+(y-l)*(area.right-o)/(v-o),n=area.right):t&c&&(r=l+(y-l)*(area.left-o)/(v-o),n=area.left),t===x?x=h(o=n,l=r,area):_=h(v=n,y=r,area);return{x0:o,x1:v,y0:l,y1:y}}(l,t.area)),"start"===o?(n=l.x0,r=l.y0):"end"===o?(n=l.x1,r=l.y1):(n=(l.x0+l.x1)/2,r=(l.y0+l.y1)/2),function(e,t,n,r,o){switch(o){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:o*=Math.PI/180,n=Math.cos(o),r=Math.sin(o)}return{x:e,y:t,vx:n,vy:r}}(n,r,e.vx,e.vy,t.align)}var y={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),o=Math.sin(n),l=e.innerRadius,c=e.outerRadius;return v({x0:e.x+r*l,y0:e.y+o*l,x1:e.x+r*c,y1:e.y+o*c,vx:r,vy:o},t)},point:function(e,t){var n=o(e,t.origin),r=n.x*e.radius,l=n.y*e.radius;return v({x0:e.x-r,y0:e.y-l,x1:e.x+r,y1:e.y+l,vx:n.x,vy:n.y},t)},rect:function(e,t){var n=o(e,t.origin),r=e.x,l=e.y,c=0,d=0;return e.horizontal?(r=Math.min(e.x,e.base),c=Math.abs(e.base-e.x)):(l=Math.min(e.y,e.base),d=Math.abs(e.base-e.y)),v({x0:r,y0:l+d,x1:r+c,y1:l,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=o(e,t.origin);return v({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:n.x,vy:n.y},t)}},x=e.helpers,_=r.rasterize;function C(e){var t=e._model.horizontal,n=e._scale||t&&e._xScale||e._yScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return t?{x:r,y:null}:{x:null,y:r}}function k(e,text,t){var shadow=e.shadowBlur,n=t.stroked,r=_(t.x),o=_(t.y),l=_(t.w);n&&e.strokeText(text,r,o,l),t.filled&&(shadow&&n&&(e.shadowBlur=0),e.fillText(text,r,o,l),shadow&&n&&(e.shadowBlur=shadow))}var w=function(e,t,n,r){var o=this;o._config=e,o._index=r,o._model=null,o._rects=null,o._ctx=t,o._el=n};x.extend(w.prototype,{_modelize:function(t,n,o,l){var c,d=this._index,m=x.options.resolve,f=r.parseFont(m([o.font,{}],l,d)),h=m([o.color,e.defaults.global.defaultFontColor],l,d);return{align:m([o.align,"center"],l,d),anchor:m([o.anchor,"center"],l,d),area:l.chart.chartArea,backgroundColor:m([o.backgroundColor,null],l,d),borderColor:m([o.borderColor,null],l,d),borderRadius:m([o.borderRadius,0],l,d),borderWidth:m([o.borderWidth,0],l,d),clamp:m([o.clamp,!1],l,d),clip:m([o.clip,!1],l,d),color:h,display:t,font:f,lines:n,offset:m([o.offset,0],l,d),opacity:m([o.opacity,1],l,d),origin:C(this._el),padding:x.options.toPadding(m([o.padding,0],l,d)),positioner:(c=this._el,c instanceof e.elements.Arc?y.arc:c instanceof e.elements.Point?y.point:c instanceof e.elements.Rectangle?y.rect:y.fallback),rotation:m([o.rotation,0],l,d)*(Math.PI/180),size:r.textSize(this._ctx,n,f),textAlign:m([o.textAlign,"start"],l,d),textShadowBlur:m([o.textShadowBlur,0],l,d),textShadowColor:m([o.textShadowColor,h],l,d),textStrokeColor:m([o.textStrokeColor,h],l,d),textStrokeWidth:m([o.textStrokeWidth,0],l,d)}},update:function(e){var t,label,n,o=this,l=null,c=null,d=o._index,m=o._config,f=x.options.resolve([m.display,!0],e,d);f&&(t=e.dataset.data[d],label=x.valueOrDefault(x.callback(m.formatter,[t,e]),t),(n=x.isNullOrUndef(label)?[]:r.toTextLines(label)).length&&(l=o._modelize(f,n,m,e),c=function(e){var t=e.borderWidth||0,n=e.padding,th=e.size.height,r=e.size.width,o=-r/2,l=-th/2;return{frame:{x:o-n.left-t,y:l-n.top-t,w:r+n.width+2*t,h:th+n.height+2*t},text:{x:o,y:l,w:r,h:th}}}(l))),o._model=l,o._rects=c},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var area,n=e.ctx,o=this._model,l=this._rects;this.visible()&&(n.save(),o.clip&&(area=o.area,n.beginPath(),n.rect(area.left,area.top,area.right-area.left,area.bottom-area.top),n.clip()),n.globalAlpha=r.bound(0,o.opacity,1),n.translate(_(t.x),_(t.y)),n.rotate(o.rotation),function(e,rect,t){var n=t.backgroundColor,r=t.borderColor,o=t.borderWidth;(n||r&&o)&&(e.beginPath(),x.canvas.roundedRect(e,_(rect.x)+o/2,_(rect.y)+o/2,_(rect.w)-o,_(rect.h)-o,t.borderRadius),e.closePath(),n&&(e.fillStyle=n,e.fill()),r&&o&&(e.strokeStyle=r,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}(n,l.frame,o),function(e,t,rect,n){var i,r=n.textAlign,o=n.color,l=!!o,c=n.font,d=t.length,m=n.textStrokeColor,f=n.textStrokeWidth,h=m&&f;if(d&&(l||h))for(rect=function(rect,e,t){var n=t.lineHeight,r=rect.w,o=rect.x,l=rect.y+n/2;return"center"===e?o+=r/2:"end"!==e&&"right"!==e||(o+=r),{h:n,w:r,x:o,y:l}}(rect,r,c),e.font=c.string,e.textAlign=r,e.textBaseline="middle",e.shadowBlur=n.textShadowBlur,e.shadowColor=n.textShadowColor,l&&(e.fillStyle=o),h&&(e.lineJoin="round",e.lineWidth=f,e.strokeStyle=m),i=0,d=t.length;i<d;++i)k(e,t[i],{stroked:h,filled:l,w:rect.w,x:rect.x,y:rect.y+rect.h*i})}(n,o.lines,l.text,o),n.restore())}});var L=e.helpers,S=Number.MIN_SAFE_INTEGER||-9007199254740991,R=Number.MAX_SAFE_INTEGER||9007199254740991;function A(e,t,n){var r=Math.cos(n),o=Math.sin(n),l=t.x,c=t.y;return{x:l+r*(e.x-l)-o*(e.y-c),y:c+o*(e.x-l)+r*(e.y-c)}}function T(e,t){var i,n,r,o,l,c=R,d=S,m=t.origin;for(i=0;i<e.length;++i)n=e[i],r=n.x-m.x,o=n.y-m.y,l=t.vx*r+t.vy*o,c=Math.min(c,l),d=Math.max(d,l);return{min:c,max:d}}function O(e,t){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/o,vy:(t.y-e.y)/o,origin:e,ln:o}}var D=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function Y(view,e,t){var n=e.positioner(view,e),r=n.vx,o=n.vy;if(!r&&!o)return{x:n.x,y:n.y};var l=t.w,c=t.h,d=e.rotation,m=Math.abs(l/2*Math.cos(d))+Math.abs(c/2*Math.sin(d)),f=Math.abs(l/2*Math.sin(d))+Math.abs(c/2*Math.cos(d)),h=1/Math.max(Math.abs(r),Math.abs(o));return m*=r*h,f*=o*h,m+=e.offset*r,f+=e.offset*o,{x:n.x+m,y:n.y+f}}L.extend(D.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,rect,t){this._rotation=t,this._rect={x:rect.x+e.x,y:rect.y+e.y,w:rect.w,h:rect.h}},contains:function(e){var rect=this._rect;return!((e=A(e,this.center(),-this._rotation)).x<rect.x-1||e.y<rect.y-1||e.x>rect.x+rect.w+2||e.y>rect.y+rect.h+2)},intersects:function(e){var i,t,n,r=this._points(),o=e._points(),l=[O(r[0],r[1]),O(r[0],r[3])];for(this._rotation!==e._rotation&&l.push(O(o[0],o[1]),O(o[0],o[3])),i=0;i<l.length;++i)if(t=T(r,l[i]),n=T(o,l[i]),t.max<n.min||n.max<t.min)return!1;return!0},_points:function(){var rect=this._rect,e=this._rotation,t=this.center();return[A({x:rect.x,y:rect.y},t,e),A({x:rect.x+rect.w,y:rect.y},t,e),A({x:rect.x+rect.w,y:rect.y+rect.h},t,e),A({x:rect.x,y:rect.y+rect.h},t,e)]}});var M={prepare:function(e){var i,t,n,r,label,o=[];for(i=0,n=e.length;i<n;++i)for(t=0,r=e[i].length;t<r;++t)label=e[i][t],o.push(label),label.$layout={_box:new D,_hidable:!1,_visible:!0,_set:i,_idx:t};return o.sort(function(a,b){var e=a.$layout,t=b.$layout;return e._idx===t._idx?e._set-t._set:t._idx-e._idx}),this.update(o),o},update:function(e){var i,t,label,n,r,o=!1;for(i=0,t=e.length;i<t;++i)label=e[i],n=label.model(),(r=label.$layout)._hidable=n&&"auto"===n.display,r._visible=label.visible(),o|=r._hidable;o&&function(e){var i,t,label,n,r,o;for(i=0,t=e.length;i<t;++i)label=e[i],(n=label.$layout)._visible&&(r=label.geometry(),o=Y(label._el._model,label.model(),r),n._box.update(o,r,label.rotation()));!function(e,t){var i,n,r,o;for(i=e.length-1;i>=0;--i)for(r=e[i].$layout,n=i-1;n>=0&&r._visible;--n)(o=e[n].$layout)._visible&&r._box.intersects(o._box)&&t(r,o)}(e,function(e,t){var n=e._hidable,h1=t._hidable;n&&h1||h1?t._visible=!1:n&&(e._visible=!1)})}(e)},lookup:function(e,t){var i,n;for(i=e.length-1;i>=0;--i)if((n=e[i].$layout)&&n._visible&&n._box.contains(t))return{dataset:n._set,label:e[i]};return null},draw:function(e,t){var i,n,label,r,o,l;for(i=0,n=t.length;i<n;++i)label=t[i],(r=label.$layout)._visible&&(o=label.geometry(),l=Y(label._el._view,label.model(),o),r._box.update(l,o,label.rotation()),label.draw(e,l))}},$=e.helpers,N={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if($.isNullOrUndef(e))return null;var t,n,r,label=e;if($.isObject(e))if($.isNullOrUndef(e.label))if($.isNullOrUndef(e.r))for(label="",t=Object.keys(e),r=0,n=t.length;r<n;++r)label+=(0!==r?", ":"")+t[r]+": "+e[t[r]];else label=e.r;else label=e.label;return""+label},listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},P=e.helpers,j="$datalabels";function F(e,t,n){var r=t&&t[n.dataset];if(r){var label=n.label,o=label.$context;!0===P.callback(r,[o])&&(e[j]._dirty=!0,label.update(o))}}function B(e,t){var n,r,o=e[j],l=o._listeners;if(l.enter||l.leave){if("mousemove"===t.type)r=M.lookup(o._labels,t);else if("mouseout"!==t.type)return;n=o._hovered,o._hovered=r,function(e,t,n,r){var o,l;(n||r)&&(n?r?n.label!==r.label&&(l=o=!0):l=!0:o=!0,l&&F(e,t.leave,n),o&&F(e,t.enter,r))}(e,l,n,r)}}e.defaults.global.plugins.datalabels=N;var z={id:"datalabels",beforeInit:function(e){e[j]={_actives:[]}},beforeUpdate:function(e){var t=e[j];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i,r,label,o=t.index,l=e[j],c=l._datasets[o]=[],d=e.isDatasetVisible(o),m=e.data.datasets[o],f=function(e,t){var n=e.datalabels;return!1===n?null:(!0===n&&(n={}),P.merge({},[t,n]))}(m,n),h=t.meta.data||[],v=h.length,y=e.ctx;for(y.save(),i=0;i<v;++i)r=h[i],d&&r&&!r.hidden&&!r._model.skip?(c.push(label=new w(f,y,r,i)),label.update(label.$context={active:!1,chart:e,dataIndex:i,dataset:m,datasetIndex:o})):label=null,r[j]=label;y.restore(),P.merge(l._listeners,f.listeners||{},{merger:function(e,n,source){n[e]=n[e]||{},n[e][t.index]=source[e],l._listened=!0}})},afterUpdate:function(e,t){e[j]._labels=M.prepare(e[j]._datasets,t)},afterDatasetsDraw:function(e){M.draw(e,e[j]._labels)},beforeEvent:function(e,t){if(e[j]._listened)switch(t.type){case"mousemove":case"mouseout":B(e,t);break;case"click":!function(e,t){var n=e[j],r=n._listeners.click,o=r&&M.lookup(n._labels,t);o&&F(e,r,o)}(e,t)}},afterEvent:function(t){var i,n,o,label,l=t[j],c=l._actives,d=l._actives=t.lastActive||[],m=r.arrayDiff(c,d);for(i=0,n=m.length;i<n;++i)(o=m[i])[1]&&(label=o[0][j])&&(label.$context.active=1===o[1],label.update(label.$context));(l._dirty||m.length)&&(M.update(l._labels),function(t){if(!t.animating){for(var n=e.animationService.animations,i=0,r=n.length;i<r;++i)if(n[i].chart===t)return;t.render({duration:1,lazy:!0})}}(t)),delete l._dirty}};return e.plugins.register(z),z}(n(276))},294:function(e,t,n){"use strict";n.r(t);n(9);var r=n(1),o=(n(43),n(10)),l=(n(55),n(155),n(273)),c=n(272),d=n(286),m=n.n(d),f={layout:"authenticated",components:{ReportFilter:c.a,PageTitle:l.a,ChartJsPluginDataLabels:m.a},data:function(){return{pickedFilterType:1,item:{callTypes:[]},filterTypes:[{id:1,name:"Call Types",key:"callTypes"},{id:2,name:"Precision Queue",key:"queues"}],hasResponse:!1,yoyDetail:null,yoyCharts:null,selectedYoy:null,yoyComponent:null,yoyList:[{id:1,name:"Calls Received",componentName:"CallsReceived",key:"calls-received"},{id:2,name:"Calls Answered",componentName:"CallAbandonRate",key:"calls-answered"},{id:3,name:"Calls Abandoned",componentName:"CallsAbandoned",key:"calls-abandoned"},{id:4,name:"Average Handle Time",componentName:"AverageHandleTime",key:"avg-handle-time"},{id:5,name:"Average Wait Time",componentName:"AverageWaitTime",key:"avg-wait-time"},{id:6,name:"Sla Answer Percentage",componentName:"SlaAnswerPercentage",key:"sla-answer-percentage"},{id:7,name:"CSQ Answer Rate",componentName:"CSQAnswerRate",key:"csq-answer-rate"},{id:8,name:"CSQ Abandon Rate",componentName:"CSQAbandonRate",key:"csq-abandon-rate"},{id:9,name:"Agent Occupancy",componentName:"AgentOccupancy",key:"agent-occupancy"},{id:10,name:"Agent Efficiency",componentName:"AgentEfficiency",key:"agent-efficiency"}],title:"Comstice Quartz - Year On Year"}},head:function(){return{title:this.title}},computed:{yearRange:function(){var e=this.$moment().subtract(5,"years"),t=this.$moment.range(e,new Date);return Array.from(t.by("year")).map(function(e){return e.format("YYYY")})}},beforeMount:function(){this.selectedYoy=this.yoyList[0],this.item.startYear=this.yearRange[this.yearRange.length-2],this.item.endYear=this.yearRange[this.yearRange.length-1]},methods:{setFilterType:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),1!==t){e.next=6;break}return delete this.item.queues,e.next=5,Object(r.a)({},this.item,{callTypes:[]});case 5:this.item=e.sent;case 6:if(2!==t){e.next=11;break}return delete this.item.callTypes,e.next=10,Object(r.a)({},this.item,{queues:[]});case 10:this.item=e.sent;case 11:console.log(this.item);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),downloadAsPng:function(){var e=this.$refs.chartRef.$refs.yoyChart.$refs.canvas.toDataURL("image/png"),link=document.createElement("a");link.download="image",link.href=e,link.click();var t=this.$refs.chartRef.$refs.yoyChartChange.$refs.canvas.toDataURL("image/png"),n=document.createElement("a");n.download="image",n.href=t,n.click()},getYoYList:function(e){var t=e.type,n=e.team;console.log(e);var r=[{name:"January",id:1},{name:"February",id:2},{name:"March",id:3},{name:"April",id:4},{name:"May",id:5},{name:"June",id:6},{name:"July",id:7},{name:"August",id:8},{name:"September",id:9},{name:"October",id:10},{name:"November",id:11},{name:"December",id:12}],o={yoyChart:{data:{datasets:[],labels:r.map(function(label){return label.name})},options:{maintainAspectRatio:!1,plugins:{datalabels:{anchor:"end",align:"end",display:function(e){return e.dataset.data[e.dataIndex]>=1},font:{weight:"bold"}}},elements:{line:{fill:!1}},scales:{yAxes:[{id:"csqval-y-axis",type:"linear"},{id:"csqchange-y-axis",position:"right",type:"linear",display:!1}]}}},yoyChangeChart:{data:{datasets:[],labels:r.map(function(label){return label.name})},options:{maintainAspectRatio:!1,plugins:{datalabels:{anchor:"center",align:"center",font:{weight:"bold"}}},scales:{yAxes:[{ticks:{beginAtZero:!1,min:-100,max:100,stepSize:10}}]}}}};this.yoyDetail.years.forEach(function(e){var l=e.data.reduce(function(map,e){return console.log(l),n?e.csq===n&&(map[e.month]=parseInt(e[t])||null):(map[e.month]||(map[e.month]=0),map[e.month]+=parseInt(e[t])||null),map},{});o.yoyChart.data.datasets.push({label:e.year,data:r.map(function(label){return l[label.id]}),yAxisID:"csqval-y-axis"})});var l=[],c=[],d=[],m=["#fd7e14","#0acf97","#ffbc00","#fa5c7c"];for(var i in o.yoyChart.data.datasets.forEach(function(e){var t=m.shift();for(var i in e.backgroundColor=t,e.borderColor=t,e.data)l[i]=l[i]||[],l[i].push(e.data[i])}),l){var f=l[i],h=Math.ceil(f.reduce(function(pre,e){return pre+e})/f.length);c.push(h);var v=f[f.length-1],y=f[f.length-2],x=Math.ceil((v-y)/y*100);d.push(x)}return o.yoyChart.data.datasets.push({datalabels:{display:!1},label:"Average Handle Time",data:c,type:"line",fill:0,lineTension:0,backgroundColor:"#f00000",borderColor:"#f00000"}),o.yoyChangeChart.data.datasets.push({label:"Change Percentage",data:d,type:"bar",backgroundColor:"#ff6d00",borderColor:"#ff6d00"}),o.yoyChangeChart.options.scales.yAxes[0].ticks.max=Math.max[d],o.yoyChangeChart.options.scales.yAxes[0].ticks.min=Math.min[d],o},search:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t,r,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!1;case 2:return this.hasResponse=e.sent,t={url:this.selectedYoy.key,data:this.item},e.next=6,this.$axios.post("/yearly-reports/".concat(t.url),t.data);case 6:return r=e.sent,data=r.data,e.next=10,!0;case 10:return this.hasResponse=e.sent,e.next=13,data;case 13:return this.yoyDetail=e.sent,e.next=16,this.getYoYList({type:this.selectedYoy.key});case 16:this.yoyCharts=e.sent,this.yoyComponent=Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(20).then(n.bind(null,296));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},h=n(7),component=Object(h.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("page-title",{attrs:{title:"Year On Year"}}),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[e.hasResponse?e._e():n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",[e._v("Year On Year List")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedYoy,expression:"selectedYoy"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedYoy=t.target.multiple?n:n[0]}}},e._l(e.yoyList,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])}),0)])]),e._v(" "),n("div",{staticClass:"col-md-6"},e._l(e.filterTypes,function(t){return n("div",{key:t.id,staticClass:"custom-control custom-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pickedFilterType,expression:"pickedFilterType"}],staticClass:"custom-control-input",attrs:{id:t.id,type:"radio",name:t.id},domProps:{value:t.id,checked:e._q(e.pickedFilterType,t.id)},on:{change:[function(n){e.pickedFilterType=t.id},function(n){return e.setFilterType(t.id)}]}}),e._v(" "),n("label",{staticClass:"custom-control-label",attrs:{for:t.id}},[e._v(e._s(t.name))])])}),0)]),e._v(" "),e.hasResponse?e._e():n("report-filter",{attrs:{"show-footer":!1,"is-searchable":!1,item:e.item},on:{"update:item":function(t){e.item=t}}}),e._v(" "),n("div",{staticClass:"form-group"},[e.hasResponse?e._e():n("button",{staticClass:"btn btn-primary mr-1",on:{click:e.search}},[e._v("\n              Search\n            ")]),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-warning",on:{click:function(t){e.hasResponse=!e.hasResponse}}},[e._v("\n              Filter\n            ")]):e._e(),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-primary ml-1",on:{click:e.downloadAsPng}},[e._v("\n              Download as PNG\n            ")]):e._e()]),e._v(" "),e.hasResponse?n(e.yoyComponent,{ref:"chartRef",tag:"component",attrs:{data:e.yoyCharts}}):e._e()],1)])])])],1)},[],!1,null,null,null);t.default=component.exports}}]);