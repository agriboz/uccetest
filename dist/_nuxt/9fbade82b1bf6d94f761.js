(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{352:function(e,t,n){"use strict";var r=n(61),o=n.n(r),l="YYYY-MM-DD HH:mm:ss",c=function(){return o()().format(l)};t.a=function(e,t,n){return 1===e&&t?o()().startOf("day").format(l):1===e&&n?c():2===e&&t?o()().add(-1,"day").startOf("day").format(l):2===e&&n?o()().add(-1,"day").endOf("day").format(l):3===e&&t?o()().startOf("week").format(l):3===e&&n?o()().endOf("week").format(l):4===e&&t?o()().subtract(1,"weeks").startOf("week").format(l):4===e&&n?o()().subtract(1,"weeks").endOf("week").format(l):5===e&&t?o()().startOf("month").format(l):5===e&&n?o()().endOf("month").format(l):6===e&&t?o()().subtract(1,"month").startOf("month").format(l):6===e&&n?o()().subtract(1,"month").endOf("month").format(l):7===e&&t?o()().startOf("year").format(l):7===e&&n?c():8===e&&t?o()().subtract(1,"year").startOf("year").format(l):8===e&&n?o()().subtract(1,"year").endOf("year").format(l):void 0}},353:function(e,t,n){"use strict";var r={props:{title:{required:!0,type:String}}},o=n(6),component=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"page-title-box"},[n("div",{staticClass:"page-title-right"},[n("ol",{staticClass:"breadcrumb m-0"},[n("li",{staticClass:"breadcrumb-item"},[n("nuxt-link",{attrs:{to:"/"}},[e._v("Home")])],1),e._v(" "),n("li",{staticClass:"breadcrumb-item active"},[n("a",[e._v(e._s(e.title))])])])]),e._v(" "),n("h4",{staticClass:"page-title"},[e._v(e._s(e.title))])])])])},[],!1,null,null,null);t.a=component.exports},354:function(e,t,n){"use strict";var r=n(18),o=(n(52),n(11)),l=(n(10),n(101),n(135),{props:{title:{required:!0,type:String},isAgent:{required:!1,type:Boolean},baseList:{required:!0,type:Array},selectedList:{required:!0,type:Array}},data:function(){return{baseValue:"",selectedValue:""}},computed:{baseListLocal:{get:function(){return this.baseList},set:function(e){this.$emit("updateBase",e)}},selectedListLocal:{get:function(){return this.selectedList},set:function(e){this.$emit("updateSelected",e)}},filteredBase:function(){var e=this;return this.baseListLocal.filter(function(t){return e.isAgent?t.enterpriseName.toLowerCase().includes(e.baseValue.toLowerCase()):t.name.toLowerCase().includes(e.baseValue.toLowerCase())})},filteredSelected:function(){var e=this;return this.selectedListLocal.filter(function(t){return e.isAgent?t.enterpriseName.toLowerCase().includes(e.selectedValue.toLowerCase()):t.name.toLowerCase().includes(e.selectedValue.toLowerCase())})}},methods:{addAll:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[].concat(Object(r.a)(this.selectedListLocal),Object(r.a)(this.filteredBase));case 2:this.selectedListLocal=e.sent,this.baseListLocal=this.baseListLocal.filter(function(e){return!t.filteredBase.includes(e)}),this.baseValue="";case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),transferToRight:function(e){this.baseListLocal=this.baseListLocal.filter(function(t){return t.id!==e.id}),this.selectedListLocal=[].concat(Object(r.a)(this.selectedListLocal),[e])},transferToLeft:function(e){this.selectedListLocal=this.selectedList.filter(function(t){return t.id!==e.id}),this.baseListLocal=[].concat(Object(r.a)(this.baseList),[e])},removeAll:function(){this.baseListLocal=[].concat(Object(r.a)(this.baseListLocal),Object(r.a)(this.selectedListLocal)),this.selectedListLocal=[]}}}),c=n(6),component=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"duallist"},[n("h6",{staticClass:"duallist-title m-0 pb-0 white"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"duallist-box"},[n("div",{staticClass:"duallist-box-border duallist-box-border-first"},[n("div",{staticClass:"duallist-box-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.baseValue,expression:"baseValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.baseValue},on:{input:function(t){t.target.composing||(e.baseValue=t.target.value)}}})]),e._v(" "),e.filteredBase.length?n("ul",{staticClass:"list-group",attrs:{name:"list-item"}},e._l(e.filteredBase,function(b){return n("li",{key:b.id,staticClass:"list-group-item",on:{click:function(t){return e.transferToRight(b)}}},[e._v("\n          "+e._s(e.isAgent?b.enterpriseName:b.name)+"\n        ")])}),0):e._e()]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.filteredBase.length?n("div",{staticClass:"btn-wrapper"},[n("a",{staticClass:"btn-move",on:{click:e.addAll}})]):e._e()])],1),e._v(" "),n("div",{staticClass:"duallist-box"},[n("div",{staticClass:"duallist-box-border duallist-box-border"},[n("div",{staticClass:"duallist-box-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.selectedValue},on:{input:function(t){t.target.composing||(e.selectedValue=t.target.value)}}})]),e._v(" "),e.filteredSelected.length?n("ul",{staticClass:"list-group",attrs:{name:"list-item"}},e._l(e.filteredSelected,function(b){return n("li",{key:b.id,staticClass:"list-group-item selected",on:{click:function(t){return e.transferToLeft(b)}}},[e._v("\n          "+e._s(e.isAgent?b.enterpriseName:b.name)+"\n        ")])}),0):e._e()]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.filteredSelected.length?n("div",{staticClass:"btn-wrapper"},[n("a",{staticClass:"btn-empty",on:{click:e.removeAll}})]):e._e()])],1)])},[],!1,null,null,null);t.a=component.exports},355:function(e,t,n){"use strict";n(60),n(203);var r=n(0),o=n(26),l=n(354),c=n(352),d={components:{DuallistBox:l.a},props:{item:{required:!0,type:Object},isVisibleItem:{required:!1,default:function(){return{}},type:Object},showFooter:{required:!0,type:Boolean},isSearchable:{required:!0,type:Boolean},url:{required:!1,default:null,type:String}},data:function(){return{dateRanges:[{id:1,name:"Today"},{id:2,name:"Yesterday"},{id:3,name:"This Week"},{id:4,name:"Last Week"},{id:5,name:"This Month"},{id:6,name:"Last Month"},{id:7,name:"Year To Date"},{id:8,name:"Last Year"}],relativeDate:!0,selectedDate:null}},computed:Object(r.a)({},Object(o.d)("shared",["callTypes","skills","teams","queues","agents"]),{yearRange:function(){var e=this.$moment().subtract(5,"years"),t=this.$moment.range(e,new Date);return Array.from(t.by("year")).map(function(e){return e.format("YYYY")})},optionsAgents:function(){var e=this;return{hasFilter:this.agents.filter(function(t){return!e.item.agents.some(function(e){return e.id===t.id})}),baseList:this.agents,selectedList:[],title:"Agents"}},optionsCallTypes:function(){var e=this;return{hasFilter:this.callTypes.filter(function(t){return!e.item.callTypes.some(function(e){return e.id===t.id})}),baseList:this.callTypes,selectedList:[],title:"Call Types"}},optionsSkills:function(){return{baseList:this.skills,selectedList:[],title:"Skills"}},optionsQueues:function(){var e=this;return{hasFilter:this.queues.filter(function(t){return!e.item.queues.some(function(e){return e.id===t.id})}),baseList:this.queues,selectedList:[],title:"Precision Queue"}},optionsTeams:function(){var e=this;return{hasFilter:this.teams.filter(function(t){return!e.item.teams.some(function(e){return e.id===t.id})}),baseList:this.teams,selectedList:[],title:"Teams"}}}),watch:{item:function(){this.item.queues&&this.getShared({endpoint:"shared/queues",key:"queues"}),this.item.teams&&this.getShared({endpoint:"teamlist/allteams",key:"teams"})}},beforeMount:function(){this.selectedDate=this.dateRanges[0],this.item.agents&&this.getShared({endpoint:"shared/agents",key:"agents"}),this.item.callTypes&&this.getShared({endpoint:"shared/calltypes",key:"callTypes"}),this.item.queues&&this.getShared({endpoint:"shared/queues",key:"queues"}),this.item.skills&&this.getShared({endpoint:"shared/skills",key:"skills"}),this.item.teams&&this.getShared({endpoint:"teamlist/allteams",key:"teams"})},created:function(){this.item.queues&&this.getShared({endpoint:"shared/queues",key:"queues"})},methods:Object(r.a)({changeRelative:function(e){this.relativeDate=e},changeDates:function(){this.item.startTime=this.relativeDate?Object(c.a)(this.selectedDate.id,!0,!1):this.$moment(this.selectedStockReport.startTime).format("YYYY-MM-DD HH:mm:ss")||"",this.item.endTime=this.relativeDate?Object(c.a)(this.selectedDate.id,!1,!0):this.$moment(this.selectedStockReport.endTime).format("YYYY-MM-DD HH:mm:ss")},limitText:function(e){return"and ".concat(e,e>1?" other options.":" other option.")}},Object(o.b)({getShared:"shared/getShared"}),{search:function(){var data={url:this.url,key:this.reportName,payload:this.item};this.reportSearch(data)}})},m=n(6),component=Object(m.a)(d,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.item.startTime?n("div",{staticClass:"form-group"},[n("fieldset",{staticClass:"radio"},[n("label",{staticClass:"mr-1"},[n("input",{attrs:{type:"radio",name:"date"},domProps:{checked:!0===e.relativeDate},on:{input:function(t){return e.changeRelative(!0)}}}),e._v("\n        Relative Date Range\n      ")]),e._v(" "),n("label",[n("input",{attrs:{type:"radio",name:"date"},domProps:{checked:!1===e.relativeDate},on:{input:function(t){return e.changeRelative(!1)}}}),e._v("\n        Absolute Date Range\n      ")])])]):e._e(),e._v(" "),e.relativeDate&&e.item.startTime?n("div",{staticClass:"form-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDate,expression:"selectedDate"}],staticClass:"form-control col-xl-6 col-lg-3 col-md-6",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedDate=t.target.multiple?n:n[0]},e.changeDates]}},e._l(e.dateRanges,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v("\n        "+e._s(t.name)+"\n      ")])}),0)]):e._e(),e._v(" "),e.relativeDate?e._e():n("div",{staticClass:"form-group"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("label",[e._v("Start Date")]),e._v(" "),n("vue-ctk-date-time-picker",{attrs:{"minute-interval":10,"max-date":e.item.endTime,"auto-close":"","no-header":"",format:"YYYY-MM-DD HH:mm:ss",color:"#727cf5","enable-button-validate":""},model:{value:e.item.startTime,callback:function(t){e.$set(e.item,"startTime",t)},expression:"item.startTime"}})],1),e._v(" "),n("div",{staticClass:"col-md-6"},[n("label",[e._v("End Date")]),e._v(" "),n("vue-ctk-date-time-picker",{attrs:{"minute-interval":10,"min-date":e.item.startTime,"auto-close":"","no-header":"",format:"YYYY-MM-DD HH:mm:ss",color:"#727cf5","enable-button-validate":""},model:{value:e.item.endTime,callback:function(t){e.$set(e.item,"endTime",t)},expression:"item.endTime"}})],1)])]),e._v(" "),e.item.startYear?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group"},[n("label",[e._v("Start Date")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.startYear,expression:"item.startYear"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item,"startYear",t.target.multiple?n:n[0])}}},e._l(e.yearRange,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])]),e._v(" "),n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group"},[n("label",[e._v("End Date")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.endYear,expression:"item.endYear"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item,"endYear",t.target.multiple?n:n[0])}}},e._l(e.yearRange,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)])])]):e._e(),e._v(" "),e.item.callTypes?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsCallTypes.hasFilter.length?e.optionsCallTypes.hasFilter:e.optionsCallTypes.baseList,"selected-list":e.item.callTypes,title:e.optionsCallTypes.title},on:{updateSelected:function(t){e.item.callTypes=t},updateBase:function(t){e.optionsCallTypes.baseList=t}}}):e._e(),e._v(" "),e.item.skills?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsSkills.baseList,"selected-list":e.item.skills,title:e.optionsSkills.title},on:{updateSelected:function(t){e.item.skills=t},updateBase:function(t){e.optionsSkills.baseList=t}}}):e._e(),e._v(" "),e.item.queues?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsQueues.hasFilter.length?e.optionsQueues.hasFilter:e.optionsQueues.baseList,"selected-list":e.item.queues,title:e.optionsQueues.title},on:{updateSelected:function(t){e.item.queues=t},updateBase:function(t){e.optionsQueues.baseList=t}}}):e._e(),e._v(" "),e.item.agents?n("duallist-box",{staticClass:"mb-2",attrs:{"is-agent":!0,"base-list":e.optionsAgents.hasFilter.length?e.optionsAgents.hasFilter:e.optionsAgents.baseList,"selected-list":e.item.agents,title:e.optionsAgents.title},on:{updateSelected:function(t){e.item.agents=t},updateBase:function(t){e.optionsAgents.baseList=t}}}):e._e(),e._v(" "),e.item.teams?n("duallist-box",{staticClass:"mb-2",attrs:{"base-list":e.optionsTeams.hasFilter.length?e.optionsTeams.hasFilter:e.optionsTeams.baseList,"selected-list":e.item.teams,title:e.optionsTeams.title},on:{updateSelected:function(t){e.item.teams=t},updateBase:function(t){e.optionsTeams.baseList=t}}}):e._e(),e._v(" "),e.isVisibleItem.counter?n("div",{staticClass:"form-group"},[n("label",[e._v("Counter")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.counter,expression:"item.counter"}],staticClass:"form-control w-50",attrs:{type:"text"},domProps:{value:e.item.counter},on:{input:function(t){t.target.composing||e.$set(e.item,"counter",t.target.value)}}})]):e._e(),e._v(" "),e.isSearchable?n("div",{staticClass:"row modal-footer"},[n("button",{staticClass:"btn btn-primary",on:{click:e.search}},[e._v("Search")])]):e._e(),e._v(" "),e.showFooter?n("div",{staticClass:"row flex"},[n("button",{staticClass:"btn btn-light",on:{click:function(t){return e.$store.commit("shared/setReportFilterModal",!1)}}},[e._v("\n      Cancel\n    ")]),e._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.$store.commit("shared/setReportFilterModal",!1)}}},[e._v("\n      OK\n    ")])]):e._e()],1)},[],!1,null,null,null);t.a=component.exports},356:function(e,t,n){"use strict";n(52);var r=n(11),o={props:{item:{required:!0,type:Object}},data:function(){return{filterID:null,openModal:!1,filters:[],filterName:null}},computed:{data:function(){return{filterName:this.filterName,filter:this.item}}},beforeMount:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFilters();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{selectFilter:function(e){console.log(e.filter),this.$emit("updateFilter",e.filter)},removeFilter:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.delete("save-filter/".concat(this.filterID));case 3:return e.next=5,this.getFilters();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getFilters:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get("save-filter");case 3:return t=e.sent,data=t.data,e.next=7,data;case 7:this.filters=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),save:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.post("save-filter",this.data);case 2:if(t=e.sent,!t.data){e.next=10;break}return this.$toast.success("Saved: Search Criteria"),e.next=8,this.getFilters();case 8:e.next=11;break;case 10:case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},l=n(6),component=Object(l.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"p-3 bg-light d-flex justify-content-between"},[n("div",{staticClass:"input-group w-25"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterName,expression:"filterName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Save Search Criteria"},domProps:{value:e.filterName},on:{input:function(t){t.target.composing||(e.filterName=t.target.value)}}}),e._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.save}},[e._v("\n        Save\n      ")])])]),e._v(" "),n("b-dropdown",{attrs:{text:"My Saved Searches",variant:"primary"}},e._l(e.filters,function(t){return n("b-dropdown-item",{key:t.id,on:{click:function(n){return e.selectFilter(t)}}},[e._v(e._s(t.filterName)+"\n      "),n("span",{on:{click:function(n){e.openModal=!e.openModal,e.filterID=t.id}}},[e._v("\n        ×\n      ")])])}),1),e._v(" "),n("b-modal",{attrs:{title:"Delete Filter"},on:{ok:e.removeFilter},model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[n("p",[e._v("\n      Are you sure want to delete selected filter?\n    ")])])],1)},[],!1,null,null,null);t.a=component.exports},381:function(e,t,n){"use strict";n.r(t);n(10),n(13),n(52);var r=n(11),o=(n(60),n(203),n(353)),l=n(355),c=n(356),d=n(370),m=n.n(d),h=n(352),f={layout:"authenticated",components:{ReportFilter:l.a,PageTitle:o.a,SaveFilter:c.a},data:function(){return{hasResponse:!1,heatmapDetail:null,item:{callTypes:[],startTime:Object(h.a)(1,!0,!1),endTime:Object(h.a)(1,!1,!0),shift:{start:0,end:24}},threshold:{threshold1:null,threshold2:null,order:null},openThresholdModal:!1,ignoreDays:[{ignored:!1,day:"Saturday"},{ignored:!1,day:"Sunday"}],selectedHeatmap:null,heatmapComponent:null,heatmapList:[{id:1,name:"Call Answer Rate",componentName:"CallAnswerRate",key:"calls_answer_rate"},{id:2,name:"Call Abandon Rate",componentName:"CallAbandonRate",key:"calls_abandoned_rate"},{id:9,name:"Percent Distribution Calls Received",componentName:"PercentDistributionCallsReceived",key:"percent_distribution_calls_received"},{id:10,name:"Percent Distribution AHT",componentName:"PercentDistributionAht",key:"percent_distribution_aht"},{id:4,name:"Average Handle Time",componentName:"AverageHandleTime",key:"aht"},{id:5,name:"Service Level",componentName:"ServiceLevel",key:"service_level_rate"},{id:6,name:"Calls Presented",componentName:"CallsPresented",key:"calls_presented"},{id:7,name:"Calls Handled",componentName:"CallsHandled",key:"calls_handled"},{id:8,name:"Calls Abandoned",componentName:"CallsAbandoned",key:"calls_abandoned"},{id:11,name:"Average Speed Of Answer",componentName:"AverageSpeedOfAnswer",key:"asa"}],title:"Comstice Quartz - Heatmaps"}},head:function(){return{title:this.title}},beforeMount:function(){this.selectedHeatmap=this.heatmapList[0]},methods:{ignoreWeekends:function(e){"saturday"===e&&(this.ignoreDays[0].ignored?this.ignoreDays[0].day="Saturday":this.ignoreDays[0].day="",this.ignoreDays[0].ignored?this.ignoreDays[0].ignored=!1:this.ignoreDays[0].ignored=!0),"sunday"===e&&(this.ignoreDays[1].ignored?this.ignoreDays[1].day="Sunday":this.ignoreDays[1].day="",this.ignoreDays[1].ignored?this.ignoreDays[1].ignored=!1:this.ignoreDays[1].ignored=!0)},addThreshold:function(e){var t=this;this.threshold=function(e){return{AverageSpeedOfAnswer:{threshold1:10,threshold2:5,order:0},PercentDistributionCallsReceived:{threshold1:20,threshold2:10,order:0},PercentDistributionAht:{threshold1:110,threshold2:90,order:0},CallAnswerRate:{threshold1:90,threshold2:70,order:1},CallAbandonRate:{threshold1:20,threshold2:10,order:0},ServiceLevel:{threshold1:90,threshold2:70,order:1},AverageHandleTime:{threshold1:t.$moment.duration(420,"seconds").format("mm:ss",{trim:!1}),threshold2:t.$moment.duration(300,"seconds").format("mm:ss",{trim:!1}),order:0},CallsPresented:{threshold1:2e3,threshold2:1e3,order:0},CallsHandled:{threshold1:2e3,threshold2:1e3,order:0},CallsAbandoned:{threshold1:200,threshold2:100,order:0}}[e]}(e)},range:function(e,t){return Array.from({length:t?e+1:e},function(e,n){return t?n<10?"0"+n+":00":n+":00":n+1})},downloadAsPng:function(){var e=document.getElementsByClassName("heatmap-wrapper")[0];m()(e).then(function(canvas){var link=document.createElement("a");document.body.appendChild(link),link.download="image.png",link.href=canvas.toDataURL("image/png"),link.target="_blank",link.click()})},search:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,o,data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null;case 2:return this.heatmapComponent=e.sent,e.next=5,!1;case 5:return this.hasResponse=e.sent,t={url:this.selectedHeatmap.name.replace(/ /gi,"-").toLowerCase(),data:this.item},e.next=9,this.$axios.post("/heat-map/".concat(t.url),t.data);case 9:return o=e.sent,data=o.data,e.next=13,!0;case 13:return this.hasResponse=e.sent,e.next=16,data;case 16:this.heatmapDetail=e.sent,this.addThreshold(this.selectedHeatmap.componentName),this.heatmapComponent=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(25).then(n.bind(null,389));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},v=n(6),component=Object(v.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("page-title",{attrs:{title:"Heatmaps"}}),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[e.hasResponse?e._e():n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group"},[n("label",[e._v("Heatmap List")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedHeatmap,expression:"selectedHeatmap"}],staticClass:"form-control",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedHeatmap=t.target.multiple?n:n[0]}}},e._l(e.heatmapList,function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])}),0)])])]),e._v(" "),n("report-filter",{directives:[{name:"show",rawName:"v-show",value:!e.hasResponse,expression:"!hasResponse"}],attrs:{"show-footer":!1,"is-searchable":!1,url:"/teamnotreadypercentage",item:e.item}}),e._v(" "),e.hasResponse?e._e():n("save-filter",{staticClass:"mt-2 mb-2",attrs:{item:{callTypes:e.item.callTypes}},on:{updateFilter:function(t){e.item.callTypes=t.callTypes}}}),e._v(" "),n("div",{staticClass:"form-group"},[e.hasResponse?e._e():n("button",{staticClass:"btn btn-primary mr-1",on:{click:e.search}},[e._v("\n              Search\n            ")]),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-warning",on:{click:function(t){e.hasResponse=!e.hasResponse}}},[e._v("\n              Filter\n            ")]):e._e(),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-info ml-1",on:{click:function(t){e.openThresholdModal=!0}}},[e._v("\n              Change Threshold\n            ")]):e._e(),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-primary ml-1",on:{click:e.downloadAsPng}},[e._v("\n              Download as PNG\n            ")]):e._e(),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-primary ml-1",on:{click:function(t){return e.ignoreWeekends("saturday")}}},[e._v("\n              "+e._s(e.ignoreDays[0].ignored?"Ignore Saturday":"Show Saturday")+"\n            ")]):e._e(),e._v(" "),e.hasResponse?n("button",{staticClass:"btn btn-primary ml-1",on:{click:function(t){return e.ignoreWeekends("sunday")}}},[e._v("\n              "+e._s(e.ignoreDays[1].ignored?"Ignore Sunday":"Show Sunday")+"\n            ")]):e._e()]),e._v(" "),n(e.heatmapComponent,{tag:"component",attrs:{threshold:e.threshold,data:e.heatmapDetail,"has-response":e.hasResponse,"selected-heatmap":e.selectedHeatmap,"ignore-days":e.ignoreDays}})],1)])])]),e._v(" "),n("b-modal",{attrs:{title:"Change Threshold"},model:{value:e.openThresholdModal,callback:function(t){e.openThresholdModal=t},expression:"openThresholdModal"}},[n("section",[e.heatmapDetail?n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group"},[n("label",[e._v("Threshold 1: (Red)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold.threshold1,expression:"threshold.threshold1"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Please write the threshold value"},domProps:{value:e.threshold.threshold1},on:{input:function(t){t.target.composing||e.$set(e.threshold,"threshold1",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[e._v("Threshold 2: (Orange)")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold.threshold2,expression:"threshold.threshold2"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Please write the threshold value"},domProps:{value:e.threshold.threshold2},on:{input:function(t){t.target.composing||e.$set(e.threshold,"threshold2",t.target.value)}}})])]):e._e()])])],1)},[],!1,null,null,null);t.default=component.exports}}]);